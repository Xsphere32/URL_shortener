@*
    For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
*@
@model URL_shortener.Models.Url
<link rel="stylesheet" href="~/css/Create.css" />
<div class="center">
    <form method="get">
        @Html.AntiForgeryToken()
        <div>
            @Html.LabelFor(model => model.FullUrl)
            <p>@Html.EditorFor(model => model.FullUrl, new { htmlattributes = new { @id = "FullUrl" } }) <input type="submit" id="Reduce" value="Сократить" /></p>
        </div>
        <div>
            @Html.LabelFor(model => model.ShortUrl)
            <div id="result"><input type="text" readonly="readonly" value="" /> <input type="button" id="copy" onclick="CopyLink()" value="Скопировать" /> </div>
        </div>
        <p></p>
    </form>
</div>
<script src="~/js/jquery-3.3.1.js"></script>
<script type="text/javascript">
     $(document).ready(function () {
        $('#Reduce').click(function (e) {
            e.preventDefault();
            var FullUrl = $('#FullUrl').val();
            FullUrl = encodeURIComponent(FullUrl);
            $('#result').load('@Url.Action("CreatedUrl", "Urls")?FullUrl='+FullUrl)
        });
     });

</script>
